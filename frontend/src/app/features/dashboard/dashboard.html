<div class="dashboard-container">
  <!-- Header -->
  <div class="dashboard-header">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-md-6">
          <h1>
            <i class="fas fa-tools"></i>
            TESIG - Dashboard
          </h1>
          <p *ngIf="currentUser">Bienvenido, {{ currentUser.nombre }} {{ currentUser.apellido }}</p>
        </div>
        <div class="col-md-6 text-md-end">
          <span class="badge user-badge">
            <i class="fas fa-user-circle"></i>
            {{ currentUser?.rol }}
          </span>
          <button class="btn btn-outline-light btn-lg ms-2" (click)="logout()">
            <i class="fas fa-sign-out-alt"></i>
            Cerrar Sesión
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="container mt-4">
    <!-- Quick Actions -->
    <div class="section-title">
      <h3>
        <i class="fas fa-bolt"></i>
        Acciones Rápidas
      </h3>
    </div>

    <div class="row">
      <!-- Crear Ticket -->
      <div class="col-md-4 mb-4" *ngIf="canCreateTicket()">
        <div class="action-card create-ticket">
          <div class="card-icon">
            <i class="fas fa-plus-circle"></i>
          </div>
          <div class="card-content">
            <h5>Crear Nuevo Ticket</h5>
            <p>Registrar ingreso de equipo</p>
            <a routerLink="/tickets/nuevo" class="btn btn-primary">
              <i class="fas fa-plus"></i>
              Crear Ticket
            </a>
          </div>
        </div>
      </div>

      <!-- Consulta Pública -->
      <div class="col-md-4 mb-4">
        <div class="action-card public-consult">
          <div class="card-icon">
            <i class="fas fa-search"></i>
          </div>
          <div class="card-content">
            <h5>Consulta Pública</h5>
            <p>Buscar estado de ticket</p>
            <a routerLink="/consulta" class="btn btn-info">
              <i class="fas fa-search"></i>
              Consultar
            </a>
          </div>
        </div>
      </div>

      <!-- Agregar Cliente -->
      <div class="col-md-4 mb-4" *ngIf="canViewClientes()">
        <div class="action-card add-client">
          <div class="card-icon">
            <i class="fas fa-user-plus"></i>
          </div>
          <div class="card-content">
            <h5>Nuevo Cliente</h5>
            <p>Registrar nuevo cliente</p>
            <a routerLink="/clientes/nuevo" class="btn btn-success">
              <i class="fas fa-user-plus"></i>
              Agregar
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- Modules -->
    <div class="section-title mt-5">
      <h3>
        <i class="fas fa-th-large"></i>
        Módulos del Sistema
      </h3>
    </div>

    <div class="row">
      <!-- Clientes Module -->
      <div class="col-lg-4 col-md-6 mb-4" *ngIf="canViewClientes()">
        <div class="module-card clientes-module">
          <div class="module-header">
            <i class="fas fa-users"></i>
          </div>
          <div class="module-body">
            <h4>Clientes</h4>
            <p>Gestión completa de clientes</p>
            <ul class="module-features">
              <li><i class="fas fa-check"></i> Crear y editar clientes</li>
              <li><i class="fas fa-check"></i> Ver historial de tickets</li>
              <li><i class="fas fa-check"></i> Búsqueda avanzada</li>
            </ul>
            <a routerLink="/clientes" class="btn btn-module">
              <i class="fas fa-arrow-right"></i>
              Ir a Clientes
            </a>
          </div>
        </div>
      </div>

      <!-- Tickets Module -->
      <div class="col-lg-4 col-md-6 mb-4" *ngIf="canViewTickets()">
        <div class="module-card tickets-module">
          <div class="module-header">
            <i class="fas fa-ticket-alt"></i>
          </div>
          <div class="module-body">
            <h4>Tickets</h4>
            <p>Sistema de órdenes de servicio</p>
            <ul class="module-features">
              <li><i class="fas fa-check"></i> Workflow completo (11 estados)</li>
              <li><i class="fas fa-check"></i> Diagnóstico y presupuesto</li>
              <li><i class="fas fa-check"></i> Generación de PDF</li>
            </ul>
            <a routerLink="/tickets" class="btn btn-module">
              <i class="fas fa-arrow-right"></i>
              Ir a Tickets
            </a>
          </div>
        </div>
      </div>

      <!-- Inventario Module -->
      <div class="col-lg-4 col-md-6 mb-4" *ngIf="canViewInventario()">
        <div class="module-card inventario-module">
          <div class="module-header">
            <i class="fas fa-boxes"></i>
          </div>
          <div class="module-body">
            <h4>Inventario</h4>
            <p>Control de piezas y stock</p>
            <ul class="module-features">
              <li><i class="fas fa-check"></i> Gestión de piezas</li>
              <li><i class="fas fa-check"></i> Control de stock</li>
              <li><i class="fas fa-check"></i> Alertas de reabastecimiento</li>
            </ul>
            <a routerLink="/inventario" class="btn btn-module">
              <i class="fas fa-arrow-right"></i>
              Ir a Inventario
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- Info Card -->
    <div class="row mt-4">
      <div class="col-12">
        <div class="info-card">
          <div class="row align-items-center">
            <div class="col-md-8">
              <h4>
                <i class="fas fa-info-circle"></i>
                Sistema TESIG
              </h4>
              <p class="mb-0">
                Taller Electrónico - Sistema Integral de Gestión. Gestiona clientes, tickets de reparación e inventario de piezas de manera eficiente.
              </p>
            </div>
            <div class="col-md-4 text-md-end mt-3 mt-md-0">
              <div class="system-version">
                <small class="text-muted">Versión 1.0.0</small>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
